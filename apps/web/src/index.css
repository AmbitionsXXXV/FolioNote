@import "tailwindcss";
@import "tw-animate-css";
@import url('https://fonts.googleapis.com/css2?family=Fraunces:ital,opsz,wght@0,9..144,300;0,9..144,400;0,9..144,500;0,9..144,600;0,9..144,700;1,9..144,400&family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;1,9..40,400&display=swap');

@custom-variant dark (&:where(.dark, .dark *));

@theme {
	--font-sans:
		"DM Sans", ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji",
		"Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
	--font-display: "Fraunces", Georgia, serif;
}

html,
body {
	@apply bg-white dark:bg-[#1a1614];

	@media (prefers-color-scheme: dark) {
		color-scheme: dark;
	}
}

/* Editorial Theme Enhancements */
body::before {
	content: '';
	position: fixed;
	inset: 0;
	background:
		radial-gradient(circle at 50% 0%, rgba(120, 119, 198, 0.04) 0%, transparent 50%),
		radial-gradient(circle at 0% 100%, rgba(167, 139, 250, 0.03) 0%, transparent 50%);
	pointer-events: none;
	z-index: 0;
}

/* Subtle paper texture */
body::after {
	content: '';
	position: fixed;
	inset: 0;
	background-image:
		repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(120, 119, 198, 0.008) 2px, rgba(120, 119, 198, 0.008) 4px),
		repeating-linear-gradient(90deg, transparent, transparent 2px, rgba(167, 139, 250, 0.008) 2px, rgba(167, 139, 250, 0.008) 4px);
	opacity: 0.4;
	pointer-events: none;
	z-index: 0;
	animation: grain 8s steps(10) infinite;
}

@keyframes grain {
	0%, 100% { transform: translate(0, 0); }
	10% { transform: translate(-5%, -10%); }
	20% { transform: translate(-15%, 5%); }
	30% { transform: translate(7%, -25%); }
	40% { transform: translate(-5%, 25%); }
	50% { transform: translate(-15%, 10%); }
	60% { transform: translate(15%, 0%); }
	70% { transform: translate(0%, 15%); }
	80% { transform: translate(3%, 25%); }
	90% { transform: translate(-10%, 10%); }
}

/* Vignette effect */
.dark body {
	box-shadow: inset 0 0 200px rgba(0, 0, 0, 0.3);
}

:root {
	--background: oklch(0.9689 0.009 314.7819);
	--foreground: oklch(0.3729 0.0306 259.7328);
	--card: oklch(1 0 0);
	--card-foreground: oklch(0.3729 0.0306 259.7328);
	--popover: oklch(1 0 0);
	--popover-foreground: oklch(0.3729 0.0306 259.7328);
	--primary: oklch(0.709 0.1592 293.5412);
	--primary-foreground: oklch(1 0 0);
	--secondary: oklch(0.9073 0.053 306.0902);
	--secondary-foreground: oklch(0.4461 0.0263 256.8018);
	--muted: oklch(0.9464 0.0327 307.1745);
	--muted-foreground: oklch(0.551 0.0234 264.3637);
	--accent: oklch(0.9376 0.026 321.9388);
	--accent-foreground: oklch(0.3729 0.0306 259.7328);
	--destructive: oklch(0.8077 0.1035 19.5706);
	--destructive-foreground: oklch(1 0 0);
	--border: oklch(0.9073 0.053 306.0902);
	--input: oklch(0.9073 0.053 306.0902);
	--ring: oklch(0.709 0.1592 293.5412);
	--chart-1: oklch(0.709 0.1592 293.5412);
	--chart-2: oklch(0.6056 0.2189 292.7172);
	--chart-3: oklch(0.5413 0.2466 293.009);
	--chart-4: oklch(0.4907 0.2412 292.5809);
	--chart-5: oklch(0.432 0.2106 292.7591);
	--sidebar: oklch(0.9073 0.053 306.0902);
	--sidebar-foreground: oklch(0.3729 0.0306 259.7328);
	--sidebar-primary: oklch(0.709 0.1592 293.5412);
	--sidebar-primary-foreground: oklch(1 0 0);
	--sidebar-accent: oklch(0.9376 0.026 321.9388);
	--sidebar-accent-foreground: oklch(0.3729 0.0306 259.7328);
	--sidebar-border: oklch(0.9073 0.053 306.0902);
	--sidebar-ring: oklch(0.709 0.1592 293.5412);
	--font-sans: DM Sans, sans-serif;
	--font-serif: Source Serif 4, serif;
	--font-mono: IBM Plex Mono, monospace;
	--font-display: Fraunces, Georgia, serif;
	--radius: 1.5rem;
	--shadow-x: 0px;
	--shadow-y: 8px;
	--shadow-blur: 16px;
	--shadow-spread: -4px;
	--shadow-opacity: 0.08;
	--shadow-color: hsl(0 0% 0%);
	--shadow-2xs: 0px 8px 16px -4px hsl(0 0% 0% / 0.04);
	--shadow-xs: 0px 8px 16px -4px hsl(0 0% 0% / 0.04);
	--shadow-sm:
		0px 8px 16px -4px hsl(0 0% 0% / 0.08), 0px 1px 2px -5px hsl(0 0% 0% / 0.08);
	--shadow:
		0px 8px 16px -4px hsl(0 0% 0% / 0.08), 0px 1px 2px -5px hsl(0 0% 0% / 0.08);
	--shadow-md:
		0px 8px 16px -4px hsl(0 0% 0% / 0.08), 0px 2px 4px -5px hsl(0 0% 0% / 0.08);
	--shadow-lg:
		0px 8px 16px -4px hsl(0 0% 0% / 0.08), 0px 4px 6px -5px hsl(0 0% 0% / 0.08);
	--shadow-xl:
		0px 8px 16px -4px hsl(0 0% 0% / 0.08), 0px 8px 10px -5px hsl(0 0% 0% / 0.08);
	--shadow-2xl: 0px 8px 16px -4px hsl(0 0% 0% / 0.2);
	--tracking-normal: 0em;
	--spacing: 0.25rem;
}

.dark {
	--background: oklch(0.2161 0.0061 56.0434);
	--foreground: oklch(0.9299 0.0334 272.7879);
	--card: oklch(0.2805 0.0309 307.2326);
	--card-foreground: oklch(0.9299 0.0334 272.7879);
	--popover: oklch(0.2805 0.0309 307.2326);
	--popover-foreground: oklch(0.9299 0.0334 272.7879);
	--primary: oklch(0.7874 0.1179 295.7538);
	--primary-foreground: oklch(0.2161 0.0061 56.0434);
	--secondary: oklch(0.3416 0.0444 308.8496);
	--secondary-foreground: oklch(0.8717 0.0093 258.3382);
	--muted: oklch(0.2283 0.0375 302.9006);
	--muted-foreground: oklch(0.7137 0.0192 261.3246);
	--accent: oklch(0.3858 0.0509 304.6383);
	--accent-foreground: oklch(0.8717 0.0093 258.3382);
	--destructive: oklch(0.8077 0.1035 19.5706);
	--destructive-foreground: oklch(0.2161 0.0061 56.0434);
	--border: oklch(0.3416 0.0444 308.8496);
	--input: oklch(0.3416 0.0444 308.8496);
	--ring: oklch(0.7874 0.1179 295.7538);
	--chart-1: oklch(0.7874 0.1179 295.7538);
	--chart-2: oklch(0.709 0.1592 293.5412);
	--chart-3: oklch(0.6056 0.2189 292.7172);
	--chart-4: oklch(0.5413 0.2466 293.009);
	--chart-5: oklch(0.4907 0.2412 292.5809);
	--sidebar: oklch(0.3416 0.0444 308.8496);
	--sidebar-foreground: oklch(0.9299 0.0334 272.7879);
	--sidebar-primary: oklch(0.7874 0.1179 295.7538);
	--sidebar-primary-foreground: oklch(0.2161 0.0061 56.0434);
	--sidebar-accent: oklch(0.3858 0.0509 304.6383);
	--sidebar-accent-foreground: oklch(0.8717 0.0093 258.3382);
	--sidebar-border: oklch(0.3416 0.0444 308.8496);
	--sidebar-ring: oklch(0.7874 0.1179 295.7538);
	--font-sans: DM Sans, sans-serif;
	--font-serif: Source Serif 4, serif;
	--font-mono: IBM Plex Mono, monospace;
	--font-display: Fraunces, Georgia, serif;
	--radius: 1.5rem;
	--shadow-x: 0px;
	--shadow-y: 8px;
	--shadow-blur: 16px;
	--shadow-spread: -4px;
	--shadow-opacity: 0.08;
	--shadow-color: hsl(0 0% 0%);
	--shadow-2xs: 0px 8px 16px -4px hsl(0 0% 0% / 0.04);
	--shadow-xs: 0px 8px 16px -4px hsl(0 0% 0% / 0.04);
	--shadow-sm:
		0px 8px 16px -4px hsl(0 0% 0% / 0.08), 0px 1px 2px -5px hsl(0 0% 0% / 0.08);
	--shadow:
		0px 8px 16px -4px hsl(0 0% 0% / 0.08), 0px 1px 2px -5px hsl(0 0% 0% / 0.08);
	--shadow-md:
		0px 8px 16px -4px hsl(0 0% 0% / 0.08), 0px 2px 4px -5px hsl(0 0% 0% / 0.08);
	--shadow-lg:
		0px 8px 16px -4px hsl(0 0% 0% / 0.08), 0px 4px 6px -5px hsl(0 0% 0% / 0.08);
	--shadow-xl:
		0px 8px 16px -4px hsl(0 0% 0% / 0.08), 0px 8px 10px -5px hsl(0 0% 0% / 0.08);
	--shadow-2xl: 0px 8px 16px -4px hsl(0 0% 0% / 0.2);
}

@theme inline {
	--color-background: var(--background);
	--color-foreground: var(--foreground);
	--color-card: var(--card);
	--color-card-foreground: var(--card-foreground);
	--color-popover: var(--popover);
	--color-popover-foreground: var(--popover-foreground);
	--color-primary: var(--primary);
	--color-primary-foreground: var(--primary-foreground);
	--color-secondary: var(--secondary);
	--color-secondary-foreground: var(--secondary-foreground);
	--color-muted: var(--muted);
	--color-muted-foreground: var(--muted-foreground);
	--color-accent: var(--accent);
	--color-accent-foreground: var(--accent-foreground);
	--color-destructive: var(--destructive);
	--color-destructive-foreground: var(--destructive-foreground);
	--color-border: var(--border);
	--color-input: var(--input);
	--color-ring: var(--ring);
	--color-chart-1: var(--chart-1);
	--color-chart-2: var(--chart-2);
	--color-chart-3: var(--chart-3);
	--color-chart-4: var(--chart-4);
	--color-chart-5: var(--chart-5);
	--color-sidebar: var(--sidebar);
	--color-sidebar-foreground: var(--sidebar-foreground);
	--color-sidebar-primary: var(--sidebar-primary);
	--color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
	--color-sidebar-accent: var(--sidebar-accent);
	--color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
	--color-sidebar-border: var(--sidebar-border);
	--color-sidebar-ring: var(--sidebar-ring);

	--font-sans: var(--font-sans);
	--font-mono: var(--font-mono);
	--font-serif: var(--font-serif);
	--font-display: var(--font-display);

	--radius-sm: calc(var(--radius) - 4px);
	--radius-md: calc(var(--radius) - 2px);
	--radius-lg: var(--radius);
	--radius-xl: calc(var(--radius) + 4px);

	--shadow-2xs: var(--shadow-2xs);
	--shadow-xs: var(--shadow-xs);
	--shadow-sm: var(--shadow-sm);
	--shadow: var(--shadow);
	--shadow-md: var(--shadow-md);
	--shadow-lg: var(--shadow-lg);
	--shadow-xl: var(--shadow-xl);
	--shadow-2xl: var(--shadow-2xl);
}

@layer base {
	* {
		@apply border-border outline-ring/50;
	}
	body {
		@apply bg-background text-foreground;
	}
}

/* Page load animations */
@keyframes fadeIn {
	from {
		opacity: 0;
		transform: translateY(10px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes fadeInScale {
	from {
		opacity: 0;
		transform: scale(0.98);
	}
	to {
		opacity: 1;
		transform: scale(1);
	}
}

.animate-fade-in {
	animation: fadeIn 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
	opacity: 0;
}

.animate-fade-in-scale {
	animation: fadeInScale 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
	opacity: 0;
}

.delay-100 {
	animation-delay: 100ms;
}

.delay-200 {
	animation-delay: 200ms;
}

.delay-300 {
	animation-delay: 300ms;
}

.delay-400 {
	animation-delay: 400ms;
}

@utility no-scrollbar {
	-ms-overflow-style: none;
	scrollbar-width: none;

	&::-webkit-scrollbar {
		display: none;
	}
}

/* Tiptap Editor Styles */
.tiptap {
	outline: none;
}

.tiptap p.is-editor-empty:first-child::before {
	color: var(--muted-foreground);
	content: attr(data-placeholder);
	float: left;
	height: 0;
	pointer-events: none;
}

.tiptap .ProseMirror {
	min-height: 200px;
}

.tiptap h1 {
	font-size: 1.875rem;
	font-weight: 700;
	line-height: 1.2;
	margin-bottom: 1rem;
}

.tiptap h2 {
	font-size: 1.5rem;
	font-weight: 600;
	line-height: 1.3;
	margin-bottom: 0.75rem;
}

.tiptap h3 {
	font-size: 1.25rem;
	font-weight: 600;
	line-height: 1.4;
	margin-bottom: 0.5rem;
}

.tiptap p {
	margin-bottom: 0.75rem;
}

.tiptap ul,
.tiptap ol {
	margin-bottom: 0.75rem;
	padding-left: 1.5rem;
}

.tiptap ul {
	list-style-type: disc;
}

.tiptap ol {
	list-style-type: decimal;
}

.tiptap li {
	margin-bottom: 0.25rem;
}

.tiptap blockquote {
	border-left: 3px solid var(--primary);
	margin-bottom: 0.75rem;
	padding-left: 1rem;
	color: var(--muted-foreground);
	font-style: italic;
}

.tiptap code {
	background-color: var(--muted);
	border-radius: 0.25rem;
	padding: 0.125rem 0.25rem;
	font-family: var(--font-mono);
	font-size: 0.875em;
}

.tiptap pre {
	background-color: var(--muted);
	border-radius: 0.5rem;
	margin-bottom: 0.75rem;
	overflow-x: auto;
	padding: 1rem;
}

.tiptap pre code {
	background: none;
	padding: 0;
}

.tiptap hr {
	border: none;
	border-top: 1px solid var(--border);
	margin: 1.5rem 0;
}

.tiptap strong {
	font-weight: 700;
}

.tiptap em {
	font-style: italic;
}

.tiptap a {
	color: var(--primary);
	text-decoration: underline;
}

.tiptap a:hover {
	opacity: 0.8;
}

.cn-command {
	@apply bg-popover text-popover-foreground rounded-xl! p-1;
}

.cn-command-dialog {
	@apply rounded-xl!;
}

.cn-command-input-wrapper {
	@apply p-1 pb-0;
}

.cn-command-input-group {
	@apply bg-input/30 border-input/30 h-8! rounded-lg! shadow-none! *:data-[slot=input-group-addon]:pl-2!;
}

.cn-command-input-icon {
	@apply size-4 shrink-0 opacity-50;
}

.cn-command-input {
	@apply w-full text-sm;
}

.cn-command-list {
	@apply no-scrollbar max-h-72 scroll-py-1 outline-none;
}

.cn-command-empty {
	@apply py-6 text-center text-sm;
}

.cn-command-group {
	@apply text-foreground **:[[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 **:[[cmdk-group-heading]]:px-2 **:[[cmdk-group-heading]]:py-1.5 **:[[cmdk-group-heading]]:text-xs **:[[cmdk-group-heading]]:font-medium;
}

.cn-command-separator {
	@apply bg-border -mx-1 h-px;
}

.cn-command-item {
	@apply data-[selected=true]:bg-muted data-[selected=true]:text-foreground data-[selected=true]:*:[svg]:text-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none [&_svg:not([class*='size-'])]:size-4 in-data-[slot=dialog-content]:rounded-lg!;
}

.cn-command-shortcut {
	@apply text-muted-foreground group-data-[selected=true]/command-item:text-foreground ml-auto text-xs tracking-widest;
}
