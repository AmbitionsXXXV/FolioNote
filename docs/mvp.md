# FolioNote MVP v2 Scopeï¼ˆåŸºäºå½“å‰å®ç°è¿›åº¦æ‰©å±•ï¼‰

## æ¦‚è¿°

FolioNote æ˜¯ä¸€ä¸ªä¸ªäººçŸ¥è¯†ç®¡ç†åº”ç”¨ï¼Œå¸®åŠ©ç”¨æˆ·å®Œæˆ"æ•è· â†’ ç»„ç»‡ â†’ å¤ä¹ "çš„é—­ç¯ã€‚  
åœ¨ MVP v1 å·²å®Œæˆ Web ç«¯æ ¸å¿ƒåŠŸèƒ½ï¼ˆEntries/Tags/Sources/Search/Review åŸºç¡€è§„åˆ™ï¼‰çš„åŸºç¡€ä¸Šï¼ŒMVP v2 èšç„¦ä¸‰ä»¶äº‹ï¼š

* ç¼–è¾‘ä½“éªŒå‡çº§ï¼šTiptap æ·±åº¦é›†æˆï¼ˆå°¤å…¶ `/` å‘½ä»¤ï¼‰
* å¤ä¹ ç³»ç»Ÿå‡çº§ï¼šä»è§„åˆ™é˜Ÿåˆ— â†’ å¯è°ƒåº¦çš„é—´éš”å¤ä¹ ï¼ˆæ”¯æŒè¯„åˆ†ã€åˆ°æœŸé˜Ÿåˆ—ï¼‰
* ç§»åŠ¨ç«¯ï¼ˆä»… iOSï¼‰è½åœ°ï¼šåœ¨ RN æ—  DOM çš„çº¦æŸä¸‹å®Œæˆå¯Œæ–‡æœ¬å¤„ç†ä¸è·¨ç«¯åŒæ­¥é—­ç¯

---

## å½“å‰å®Œæˆæƒ…å†µï¼ˆæˆªè‡³ç°åœ¨ï¼‰

### å·²å®Œæˆï¼ˆDoneï¼‰

#### 1) ç”¨æˆ·è®¤è¯

* [x] é‚®ç®±/å¯†ç æ³¨å†Œä¸ç™»å½•
* [x] ä¼šè¯æŒä¹…åŒ–
* [x] è·¨å¹³å°è®¤è¯ (Web + Native)

#### 2) æ¡ç›®ç®¡ç† (Entries)

* [x] åˆ›å»ºå­¦ä¹ ç¬”è®°æ¡ç›®
* [x] ç¼–è¾‘æ¡ç›®ï¼ˆWeb ç«¯åŸºäº Tiptapï¼‰
* [x] åˆ é™¤æ¡ç›®ï¼ˆè½¯åˆ é™¤ï¼‰
* [x] æ¡ç›®åˆ—è¡¨ä¸ç­›é€‰
* [x] æ”¶ä»¶ç®±ï¼ˆInboxï¼‰åŠŸèƒ½

Done: å®ç°äº† entries API routerï¼ˆCRUD + åˆ—è¡¨ç­›é€‰ + æ¸¸æ ‡åˆ†é¡µï¼‰ï¼Œä»¥åŠ Web ç«¯çš„æ”¶ä»¶ç®±é¡µé¢ã€èµ„æ–™åº“é¡µé¢ã€æ¡ç›®ç¼–è¾‘å™¨ï¼ˆåŸºäº Tiptapï¼‰å’Œå¿«é€Ÿæ•è·ç»„ä»¶ã€‚

#### 3) æ ‡ç­¾ç³»ç»Ÿ (Tags)

* [x] åˆ›å»º/ç¼–è¾‘/åˆ é™¤æ ‡ç­¾
* [x] ä¸ºæ¡ç›®æ·»åŠ /ç§»é™¤æ ‡ç­¾
* [x] æŒ‰æ ‡ç­¾ç­›é€‰æ¡ç›®

Done: å®Œæ•´ tags API routerï¼ˆCRUD + åˆ—è¡¨ï¼‰ä¸ entries router æ‰©å±•ï¼ˆaddTag/removeTag/getTags + tagId ç­›é€‰ï¼‰ï¼ŒåŒ…å«å•å…ƒæµ‹è¯•ã€‚

#### 4) æ¥æºç®¡ç† (Sources)

* [x] åˆ›å»ºæ¥æºï¼ˆé“¾æ¥/ä¹¦ç±/æ–‡ç« ï¼‰
* [x] å…³è”æ¡ç›®ä¸æ¥æº
* [x] æ¥æºåˆ—è¡¨é¡µé¢

Done: å®Œæ•´ sources API routerï¼ˆCRUD + åˆ—è¡¨ + åˆ†é¡µï¼‰ä¸ entry-source å…³è” APIï¼ŒåŒ…å«å•å…ƒæµ‹è¯•ã€‚Web ç«¯æ¥æºåˆ—è¡¨æ”¯æŒç­›é€‰ä¸å¢åˆ æ”¹ã€‚

#### 5) åŸºç¡€æœç´¢

* [x] å…³é”®è¯æœç´¢ï¼ˆæ ‡é¢˜/å†…å®¹ï¼‰
* [x] æœç´¢ç»“æœå±•ç¤º

Done: search API routerï¼ˆILIKE æ¨¡ç³Šæœç´¢ + æ¸¸æ ‡åˆ†é¡µï¼‰ä¸ Web æœç´¢é¡µé¢ï¼ŒåŒ…å«å•å…ƒæµ‹è¯•ã€‚

#### 6) å¤ä¹ å·¥ä½œæµï¼ˆåŸºç¡€ç‰ˆï¼‰

* [x] "ä»Šæ—¥å¤ä¹ "é˜Ÿåˆ—
* [x] æ ‡è®°æ¡ç›®ä¸º"å·²å¤ä¹ "
* [x] ç®€å•å¤ä¹ è§„åˆ™ï¼ˆnew/starred/unreviewed/allï¼‰

Done: review API routerï¼ˆgetQueue/markReviewed/history/todayStats/reviewCountï¼‰ï¼ŒåŒ…å«å•å…ƒæµ‹è¯•ã€‚Web ç«¯å¤ä¹ é¡µæ”¯æŒå››ç§æ¨¡å¼ä¸ç»Ÿè®¡ã€‚

---

## MVP v2 èŒƒå›´å†…ï¼ˆIn Scopeï¼‰

### A. ç¼–è¾‘ä½“éªŒå‡çº§ï¼ˆWebï¼‰

#### A1. Tiptap `/` Commandï¼ˆSlash Menuï¼‰

* [x] è¾“å…¥ `/` å¼¹å‡ºå‘½ä»¤èœå•ï¼ˆæ”¯æŒæœç´¢è¿‡æ»¤ã€ä¸Šä¸‹é€‰æ‹©ã€å›è½¦æ‰§è¡Œã€Esc å…³é—­ï¼‰
* [x] åŸºç¡€å‘½ä»¤é›†ï¼ˆç¬¬ä¸€ç‰ˆï¼‰
  * [x] æ ‡é¢˜ï¼š`/h1` `/h2` `/h3`
  * [x] å¼•ç”¨ï¼š`/quote`
  * [x] ä»£ç å—ï¼š`/code`
  * [x] åˆ—è¡¨ï¼š`/bullet` `/ordered`
  * [x] åˆ†å‰²çº¿ï¼š`/divider`
* [x] FolioNote ç›¸å…³å‘½ä»¤ï¼ˆè‡³å°‘è½åœ° 1 ä¸ªï¼‰
  * [x] `/tag`ï¼šæœç´¢å¹¶æ’å…¥/ç»‘å®šæ ‡ç­¾
  * [x] `/source`ï¼šæœç´¢å¹¶æ’å…¥/å…³è”æ¥æº
  * [x] `/ref`ï¼šæ’å…¥æ¡ç›®å¼•ç”¨ï¼ˆå¯å…ˆç”Ÿæˆå¯ç‚¹å‡»çš„å†…éƒ¨é“¾æ¥ï¼‰

Done: å®ç°äº†å®Œæ•´çš„ Tiptap Slash Command æ‰©å±•ï¼š

* åŸºç¡€å‘½ä»¤ï¼šæ ‡é¢˜ï¼ˆH1/H2/H3ï¼‰ã€å¼•ç”¨ã€ä»£ç å—ï¼ˆShiki è¯­æ³•é«˜äº®ï¼‰ã€æ— åº/æœ‰åºåˆ—è¡¨ã€åˆ†å‰²çº¿
* FolioNote å‘½ä»¤ï¼š`/tag` å¿«é€Ÿæ·»åŠ æ ‡ç­¾ã€`/source` å…³è”æ¥æºã€`/ref` æ’å…¥æ¡ç›®å¼•ç”¨é“¾æ¥
* äº¤äº’ç‰¹æ€§ï¼šé”®ç›˜å¯¼èˆªï¼ˆä¸Šä¸‹ç®­å¤´ã€å›è½¦ç¡®è®¤ã€Esc å…³é—­ï¼‰ã€æœç´¢è¿‡æ»¤ã€åˆ†ç»„æ˜¾ç¤º
* æ–°å¢ç»„ä»¶ï¼šEntrySourcesï¼ˆæ¥æºç®¡ç†ï¼‰ã€EntryPickerï¼ˆæ¡ç›®é€‰æ‹©å™¨ï¼‰

éªŒæ”¶æ ‡å‡†ï¼š

* Slash Menu åœ¨è¿ç»­è¾“å…¥ã€æ’¤é”€/é‡åšã€å¿«é€Ÿåˆ‡æ¢å…‰æ ‡æ—¶ç¨³å®šå¯ç”¨
* æ‰§è¡Œå‘½ä»¤åå…‰æ ‡ä½ç½®æ­£ç¡®ï¼Œä¸å‡ºç°"å‘½ä»¤æ–‡å­—æ®‹ç•™"
* å¼‚æ­¥å‘½ä»¤ï¼ˆå¦‚ tag/source/refï¼‰æ”¯æŒé˜²æŠ–æœç´¢ï¼Œç»“æœå±•ç¤ºä¸é€‰æ‹©ç¨³å®š

#### A2. å¯Œæ–‡æœ¬å†…å®¹å­˜å‚¨ç­–ç•¥ï¼ˆè·¨ç«¯ä¸€è‡´æ€§ï¼‰

ç›®æ ‡ï¼šä¸º iOS WebView ç¼–è¾‘å™¨ä¸æœç´¢/é¢„è§ˆ/å¤ä¹ æä¾›ç»Ÿä¸€æ•°æ®åŸºç¡€ï¼Œé™ä½æ ¼å¼æ¼‚ç§»ä¸è½¬æ¢æˆæœ¬ã€‚

* [x] å†…å®¹ä¸»å­˜ä¸º ProseMirror JSONï¼ˆTiptap docï¼‰
* [x] æ´¾ç”Ÿå­—æ®µï¼ˆç”¨äºæœç´¢/åˆ—è¡¨/å¤ä¹ æ‘˜è¦ï¼‰
  * [x] `content_text`ï¼šçº¯æ–‡æœ¬ï¼ˆç”¨äº ILIKE æœç´¢ä¸æ‘˜è¦ï¼‰
  * [x] å¯é€‰ï¼š`content_preview`ï¼ˆæˆªæ–­é¢„è§ˆï¼‰- é€šè¿‡ `generateContentPreview` å·¥å…·å‡½æ•°å®ç°
* [x] è¿ç§»ä¸å…¼å®¹
  * [x] ç°æœ‰ Markdown/å­—ç¬¦ä¸²å†…å®¹è¿ç§»åˆ° JSON æˆ–ä¿æŒå…¼å®¹è¯»å–ç­–ç•¥
  * [x] API è¿”å›ä¸­æä¾› `content.json` ä¸ `content.text`ï¼ˆæˆ–ç­‰ä»·ç»“æ„ï¼‰

Done - å®ç°è¯´æ˜ï¼š

1. æ•°æ®åº“ Schema æ–°å¢ `contentJson`ï¼ˆProseMirror JSONï¼‰å’Œ `contentText`ï¼ˆçº¯æ–‡æœ¬ï¼‰å­—æ®µ
2. API å±‚è‡ªåŠ¨å¤„ç†å†…å®¹è½¬æ¢ï¼šä¼˜å…ˆä½¿ç”¨ `contentJson`ï¼Œå‘åå…¼å®¹ `content`ï¼ˆHTMLï¼‰
3. å‰ç«¯ç¼–è¾‘å™¨æ”¯æŒ JSON æ ¼å¼å­˜å‚¨ï¼ŒonChange åŒæ—¶è¿”å› HTML å’Œ JSON
4. EntryCard ä¼˜å…ˆä½¿ç”¨ `contentText` è¿›è¡Œé¢„è§ˆæ˜¾ç¤º
5. å†…å®¹è½¬æ¢å·¥å…·å‡½æ•°ä½äº `packages/api/src/utils/content.ts`

éªŒæ”¶æ ‡å‡†ï¼š

* Web ç«¯ç¼–è¾‘ã€åˆ—è¡¨å±•ç¤ºã€æœç´¢ã€å¤ä¹ å‡ä½¿ç”¨åŒä¸€å¥—"ä¸»å­˜ + æ´¾ç”Ÿå­—æ®µ"é€»è¾‘
* ä»»æ„æ¡ç›®å†…å®¹ä¸ä¼šå› ä¿å­˜/é‡æ–°æ‰“å¼€å‘ç”Ÿç»“æ„ä¸¢å¤±ï¼ˆå›å½’ç”¨ä¾‹è¦†ç›–ç²˜è´´ã€æ’¤é”€ã€åˆ—è¡¨/å¼•ç”¨ç­‰ï¼‰

#### A3. ç²˜è´´ä¸é“¾æ¥å¤„ç†ï¼ˆç¼–è¾‘å™¨å¯é æ€§ï¼‰

* [x] ç²˜è´´ URL è‡ªåŠ¨è¯†åˆ«ä¸ºé“¾æ¥ mark
* [x] ç²˜è´´å¯Œæ–‡æœ¬ç­–ç•¥æ˜ç¡®ï¼ˆä¿ç•™ç»“æ„æˆ–è½¬çº¯æ–‡æœ¬ï¼‰ï¼Œå¹¶å†™å…¥æµ‹è¯•/å›å½’ç”¨ä¾‹æ¸…å•
* [x] è‡ªåŠ¨ä¿å­˜ï¼ˆèŠ‚æµï¼‰ä¸ä¿å­˜çŠ¶æ€æç¤ºï¼ˆSaving/Saved/Errorï¼‰
* [x] ä¹è§‚é”/ç‰ˆæœ¬æ§åˆ¶ï¼ˆé¿å…å¹¶å‘è¦†ç›–ï¼Œæœ€å°å®ç°å³å¯ï¼‰

Done - å®ç°è¯´æ˜ï¼š

1. **ç²˜è´´ URL è‡ªåŠ¨é“¾æ¥**ï¼šåˆ›å»º `link-extension.ts`ï¼Œé…ç½® Tiptap Link æ‰©å±•æ”¯æŒ `linkOnPaste` å’Œ `autolink`
2. **ç²˜è´´å¯Œæ–‡æœ¬ç­–ç•¥**ï¼šåˆ›å»º `paste-handler-extension.ts`ï¼Œæ”¯æŒ `preserve`ï¼ˆä¿ç•™ç»“æ„ï¼‰å’Œ `plain`ï¼ˆè½¬çº¯æ–‡æœ¬ï¼‰ä¸¤ç§ç­–ç•¥
3. **è‡ªåŠ¨ä¿å­˜ä¸çŠ¶æ€æç¤º**ï¼šåˆ›å»º `use-auto-save.ts` hook å’Œ `SaveStatusIndicator` ç»„ä»¶ï¼Œæ”¯æŒ Saving/Saved/Error çŠ¶æ€æ˜¾ç¤º
4. **ä¹è§‚é”/ç‰ˆæœ¬æ§åˆ¶**ï¼šåœ¨ entries schema æ·»åŠ  `version` å­—æ®µï¼ŒAPI æ›´æ–°æ—¶æ ¡éªŒç‰ˆæœ¬å·ï¼Œå†²çªæ—¶è¿”å› CONFLICT é”™è¯¯

---

### B. å¤ä¹ ç®—æ³•å‡çº§ï¼ˆReview v2ï¼‰

ç›®æ ‡ï¼šä»"è§„åˆ™ç­›é€‰é˜Ÿåˆ—"å‡çº§ä¸º"åˆ°æœŸé˜Ÿåˆ— + é—´éš”å¤ä¹ "ï¼Œå¹¶ä¿ç•™åŸæ¨¡å¼ä½œä¸ºè¡¥å……è§†å›¾/è¿‡æ»¤å™¨ã€‚

#### B1. Review è°ƒåº¦çŠ¶æ€ï¼ˆæ•°æ®æ¨¡å‹æ‰©å±•ï¼‰

* [x] æ–°å¢ `entry_review_state`ï¼ˆä½¿ç”¨ entryId ä½œä¸ºä¸»é”®ï¼‰
  * [x] `dueAt` - ä¸‹æ¬¡åˆ°æœŸæ—¶é—´ï¼ˆnotNullï¼‰
  * [x] `lastReviewedAt` - ä¸Šæ¬¡å¤ä¹ æ—¶é—´
  * [x] `intervalDays` - å½“å‰é—´éš”å¤©æ•°
  * [x] `ease` - SM-2 ease factorï¼ŒèŒƒå›´ [1.3, 3.0]
  * [x] `reps` - è¿ç»­æ­£ç¡®å¤ä¹ æ¬¡æ•°
  * [x] `lapses` - é—å¿˜æ¬¡æ•°
* [x] `review_events` å¢åŠ è¯„åˆ†å­—æ®µ
  * [x] `rating`: `again | hard | good | easy`ï¼ˆnotNullï¼Œé»˜è®¤ goodï¼‰
  * [x] `scheduledDueAt`: æœ¬æ¬¡å¤ä¹ åè®¡ç®—çš„ä¸‹æ¬¡åˆ°æœŸæ—¶é—´

Done: æ–°å»º `entry_review_state` è¡¨ï¼ˆentryId ä¸»é”® + userId,dueAt ç´¢å¼•ï¼‰ï¼Œæ‰©å±• `review_events` è¡¨æ·»åŠ  `rating` å’Œ `scheduledDueAt` å­—æ®µã€‚ä½¿ç”¨æ‡’åˆ›å»ºç­–ç•¥ï¼Œé¦–æ¬¡å¤ä¹ æ—¶åˆ›å»º stateã€‚

#### B2. å¤ä¹ åŠ¨ä½œä¸ç®—æ³•ï¼ˆæœ€å°å¯è¡Œï¼‰

* [x] `markReviewed` å‡çº§ä¸ºå¸¦è¯„åˆ†ï¼š`markReviewed(entryId, rating)`
  * [x] æ—§è°ƒç”¨å…¼å®¹ï¼šä¸ä¼  rating é»˜è®¤ `good`
  * [x] äº‹åŠ¡åŒ–ï¼šå•ä¸ªäº‹åŠ¡å†…å®Œæˆ review_events æ’å…¥å’Œ entry_review_state upsert
* [x] æœ€å°è°ƒåº¦ç®—æ³•ï¼ˆå¼±åŒ–ç‰ˆ SM-2ï¼‰
  * [x] againï¼šinterval = 1, ease -= 0.20, lapses++
  * [x] hardï¼šinterval = baseInterval * 1.2, ease -= 0.15
  * [x] goodï¼šinterval = baseInterval * easeï¼ˆé¦–è½® = 1ï¼‰
  * [x] easyï¼šinterval = baseInterval \* ease \* 1.3ï¼ˆé¦–è½® = 2ï¼‰, ease += 0.10
  * [x] è¾¹ç•Œå¤„ç†ï¼šease clamp [1.3, 3.0]ï¼Œinterval >= 1ï¼ŒMath.round() å–æ•´
* [x] æ¯æ—¥ä¸Šé™ä¸è¡¥é½ç­–ç•¥
  * [x] dailyLimitï¼šç”¨æˆ·å¯é…ç½®ï¼ˆé»˜è®¤ 50ï¼‰
  * [x] newLimitï¼š30%ï¼ˆMath.min(20, floor(dailyLimit * 0.3))ï¼‰
  * [x] ä¼˜å…ˆ due æ¡ç›®
  * [x] ä¸è¶³æ—¶ç”¨æ–°æ¡ç›®ï¼ˆæ—  review_stateï¼‰è¡¥é½

Done: å®ç°å¼±åŒ–ç‰ˆ SM-2 ç®—æ³•æ¨¡å— `spaced-repetition.ts`ï¼Œå‡çº§ `markReviewed` API æ”¯æŒäº‹åŠ¡åŒ– upsertï¼Œå‡çº§ `getQueue` API æ”¯æŒ due è§„åˆ™å’Œé…é¢ç­–ç•¥ã€‚

#### B3. é˜Ÿåˆ—ä¸é¡µé¢ï¼ˆWebï¼‰

* [x] é»˜è®¤é˜Ÿåˆ—ï¼šDue Queueï¼ˆ`dueAt <= now`ï¼‰
* [x] ä¿ç•™åŸå››ç§æ¨¡å¼ï¼ˆnew/starred/unreviewed/allï¼‰ä½œä¸ºè¿‡æ»¤å™¨
* [x] è¯„åˆ†æŒ‰é’®ï¼šAgainï¼ˆçº¢è‰²ï¼‰/ Hardï¼ˆæ©™è‰²ï¼‰/ Goodï¼ˆç»¿è‰²ï¼‰/ Easyï¼ˆè“è‰²ï¼‰
* [x] ç»Ÿè®¡å¡ç‰‡ï¼šå¾…å¤ä¹ æ•°ã€ä»Šæ—¥å·²å¤ä¹ ã€æ–°æ¡ç›®æ•°ã€æ€»æ¡ç›®æ•°
* [x] ç”¨æˆ·æ—¶åŒºæ”¯æŒï¼šå‰ç«¯ä¼  tzOffsetï¼Œåç«¯æŒ‰ç”¨æˆ·æ—¶åŒºè®¡ç®—"ä»Šæ—¥"
* [x] Snoozeï¼ˆè·³è¿‡/å»¶åï¼‰
  * [x] å»¶ååˆ°æ˜å¤© / 3 å¤© / 7 å¤©ï¼ˆå›ºå®šæ¡£ä½ï¼‰
* [x] ä»Šæ—¥ç»Ÿè®¡æ‰©å±•
  * [x] dueCountã€reviewedCountã€newCountã€streak

Done: å‡çº§ ReviewCard ç»„ä»¶æ”¯æŒå››ä¸ªè¯„åˆ†æŒ‰é’®ï¼Œæ–°å¢ `getDueStats` API æ˜¾ç¤ºåˆ°æœŸç»Ÿè®¡ï¼Œæ·»åŠ  due æ¨¡å¼ä½œä¸ºé»˜è®¤å¤ä¹ æ¨¡å¼ã€‚å®ç° Snooze API æ”¯æŒå»¶ååˆ°æ˜å¤©/3 å¤©/7 å¤©ï¼Œæ‰©å±• `getTodayStats` API æ·»åŠ  streak è¿ç»­å¤©æ•°ç»Ÿè®¡ï¼ŒWeb ç«¯ ReviewCard æ·»åŠ  Snooze ä¸‹æ‹‰èœå•ï¼ŒReviewDashboard æ˜¾ç¤ºè¿ç»­å¤©æ•°ç»Ÿè®¡å¡ç‰‡ã€‚

éªŒæ”¶æ ‡å‡†ï¼š

* æ¯æ¡ entry èƒ½ç¨³å®šç”Ÿæˆ/æ›´æ–° `dueAt`
* åŒä¸€å¤©å¤šæ¬¡å¤ä¹ åŒä¸€æ¡çš„è¡Œä¸ºå¯è§£é‡Šï¼ˆæœ€å°è§„åˆ™ï¼šåªè®°å½•äº‹ä»¶ä½†åªæ›´æ–°ä¸€æ¬¡çŠ¶æ€ï¼Œæˆ–æŒ‰æœ€åä¸€æ¬¡ä¸ºå‡†ï¼‰
* é˜Ÿåˆ—ä¸ä¼šæ— é™è†¨èƒ€ï¼Œä¸”ç”¨æˆ·èƒ½é€šè¿‡ Snooze æ§åˆ¶èŠ‚å¥

---

### C. ç§»åŠ¨ç«¯ï¼ˆExpoï¼Œä»… iOSï¼‰é—­ç¯è½åœ°

çº¦æŸï¼šTiptap/ProseMirror ä¾èµ– DOMï¼ŒReact Native æ—  DOMï¼›MVP v2 é‡‡ç”¨ WebView æ‰¿è½½å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ä»¥å¤ç”¨ Web èƒ½åŠ›ã€‚

#### C1. iOS ç«¯åŸºç¡€åŠŸèƒ½ï¼ˆæœ€å°é—­ç¯ï¼‰

* [x] è®¤è¯æµç¨‹ï¼ˆç™»å½•/æ³¨å†Œ/é€€å‡ºï¼‰
* [x] å¿«é€Ÿæ–‡æœ¬æ•è·ï¼ˆInbox åˆ›å»º entryï¼‰
* [x] æ”¶ä»¶ç®±åˆ—è¡¨ï¼ˆåˆ†é¡µ/åˆ·æ–°ï¼‰
* [x] ä»Šæ—¥è§†å›¾ï¼ˆå±•ç¤ºä»Šæ—¥ due/å¾…å¤ä¹ æ•°é‡ä¸å…¥å£ï¼‰
* [x] å¤ä¹ æµç¨‹ï¼ˆè‡³å°‘æ”¯æŒ `good`/`again` ä¸¤æ¡£ï¼‰

Done: å®ç°äº† iOS ç«¯å®Œæ•´çš„åŸºç¡€åŠŸèƒ½é—­ç¯ï¼š

1. **è®¤è¯æµç¨‹**ï¼šå¤ç”¨å·²æœ‰çš„ SignIn/SignUp ç»„ä»¶ï¼Œæ”¯æŒé‚®ç®±å¯†ç ç™»å½•æ³¨å†Œï¼Œé€€å‡ºç™»å½•åŠŸèƒ½
2. **å¿«é€Ÿæ–‡æœ¬æ•è·**ï¼šåœ¨ Inbox é¡µé¢é¡¶éƒ¨æ·»åŠ å¿«é€Ÿæ•è·è¾“å…¥æ¡†ï¼Œæ”¯æŒä¸€é”®åˆ›å»ºæ–°æ¡ç›®
3. **æ”¶ä»¶ç®±åˆ—è¡¨**ï¼šä½¿ç”¨ FlatList å®ç°æ”¶ä»¶ç®±æ¡ç›®åˆ—è¡¨ï¼Œæ”¯æŒä¸‹æ‹‰åˆ·æ–°
4. **ä»Šæ—¥è§†å›¾**ï¼šå±•ç¤ºä»Šæ—¥åˆ°æœŸæ•°é‡ã€è¿‡æœŸæ•°é‡ã€å·²å®Œæˆæ•°é‡ã€æ–°æ¡ç›®æ•°é‡ï¼Œä»¥åŠè¿ç»­å¤ä¹ å¤©æ•°
5. **å¤ä¹ æµç¨‹**ï¼šæ”¯æŒå››æ¡£è¯„åˆ†ï¼ˆAgain/Hard/Good/Easyï¼‰ï¼Œå¤ä¹ æ¨¡å¼é€‰æ‹©ï¼ˆDue/New/Starred/Allï¼‰ï¼Œå¤ä¹ å¡ç‰‡å±•ç¤º

#### C2. iOS å¯Œæ–‡æœ¬å¤„ç†æ–¹æ¡ˆï¼ˆWebView + Tiptapï¼‰

* [x] åªè¯»æ¸²æŸ“ï¼ˆä¼˜å…ˆï¼‰
  * [x] æ¡ç›®è¯¦æƒ…é¡µå±•ç¤ºå¯Œæ–‡æœ¬ï¼ˆWebView æ¸²æŸ“ JSONï¼‰
* [x] ç¼–è¾‘æ¨¡å¼ï¼ˆç¬¬äºŒæ­¥ï¼‰
  * [x] WebView å†…åµŒ Tiptap ç¼–è¾‘å™¨ï¼ˆå¤ç”¨ Web schema/æ‰©å±•ï¼‰
  * [x] RN â†” WebView æ¶ˆæ¯æ¡¥æ¥
    * [x] loadDocument(json)
    * [x] onChange(json, text)ï¼ˆèŠ‚æµï¼‰
    * [x] onSaveï¼ˆå¯é€‰ï¼‰
* [x] ä¸æœåŠ¡ç«¯åŒæ­¥
  * [x] ä¿å­˜ JSON ä¸»å†…å®¹ + æ´¾ç”Ÿ text
  * [x] å†²çªç­–ç•¥æœ€å°å¯è¡Œï¼ˆåŸºäº updatedAt/versionï¼‰

Done - å®ç°è¯´æ˜ï¼š

1. **RichTextViewer ç»„ä»¶**ï¼šä½¿ç”¨ Expo DOM Components æ–¹å¼ï¼Œåœ¨ WebView ä¸­æ¸²æŸ“ Tiptap åªè¯»ç¼–è¾‘å™¨
2. **RichTextEditor ç»„ä»¶**ï¼šä½¿ç”¨ Expo DOM Components æ–¹å¼ï¼Œåœ¨ WebView ä¸­æ¸²æŸ“ Tiptap å¯ç¼–è¾‘å™¨
3. **æ¶ˆæ¯æ¡¥æ¥**ï¼šé€šè¿‡ Expo DOM Components çš„ props ä¼ é€’å®ç°åŒå‘é€šä¿¡
   * `content` propï¼šä¼ é€’ ProseMirror JSON å†…å®¹
   * `onChange` å›è°ƒï¼šèŠ‚æµ 300msï¼Œè¿”å› JSON å’Œçº¯æ–‡æœ¬
   * `onSave` å›è°ƒï¼šæ”¯æŒ Cmd/Ctrl+S å¿«æ·é”®ä¿å­˜
4. **æ¡ç›®è¯¦æƒ…é¡µ**ï¼š`/inbox/[id].tsx` æ”¯æŒåªè¯»å’Œç¼–è¾‘æ¨¡å¼åˆ‡æ¢
5. **æ•°æ®åŒæ­¥**ï¼šé€šè¿‡ `entries.update` API ä¿å­˜ `contentJson` å’Œ `contentText`

éªŒæ”¶æ ‡å‡†ï¼š

* iOS çœŸæœºä¸Šå¯ä»¥åˆ›å»ºæ¡ç›® â†’ ç¼–è¾‘ï¼ˆæˆ–åªè¯»ï¼‰â†’ åœ¨ Web ç«¯æ‰“å¼€å†…å®¹ä¸€è‡´
* iOS ç«¯å¤ä¹ ä¸€æ¬¡èƒ½åœ¨ Web ç«¯çœ‹åˆ° review è®°å½•/é˜Ÿåˆ—å˜åŒ–
* WebView ç¼–è¾‘å™¨è¾“å…¥ä¸­æ–‡ã€æ¢è¡Œã€æ’¤é”€/é‡åšæ— æ˜æ˜¾å´©åï¼ˆåˆ—å…¥å›å½’æ¸…å•ï¼‰

#### C3. åˆ†äº«æ‰©å±•ï¼ˆiOS Share Extensionï¼‰ã€å¯é€‰ï¼Œè‹¥æ—¶é—´å…è®¸ã€‘

* [ ] æ¥æ”¶æ–‡æœ¬/URLï¼Œå†™å…¥ Inbox
* [ ] å»é‡/åˆå¹¶ç­–ç•¥ï¼ˆå¯å»¶åï¼‰

---

### D. å›½é™…åŒ–ï¼ˆi18nï¼‰æ”¯æŒï¼ˆWeb + iOS + Serverï¼‰

ç›®æ ‡ï¼šç»Ÿä¸€ç®¡ç†å¤šè¯­è¨€èµ„æºï¼Œæ”¯æŒ Webã€iOSï¼ˆExpoï¼‰ã€ä»¥åŠ Server æ¥å£è¿”å›çš„æœ¬åœ°åŒ– msgï¼ˆåŒæ—¶ä¿ç•™ç¨³å®š error codeï¼‰ã€‚

#### D1. å…±äº« locales å­åŒ…

* [x] æ–°å¢ `packages/locales` ç»Ÿä¸€ç®¡ç†è¯­è¨€èµ„æºï¼ˆä¾‹å¦‚ `en-US`ã€`zh-CN`ï¼‰
* [x] ç»Ÿä¸€ key å‘½åè§„èŒƒï¼ˆå¦‚ `auth.*` / `entry.*` / `review.*`ï¼‰
* [x] æ’å€¼ä¸å¤æ•°è§„åˆ™ä½¿ç”¨ ICU MessageFormat
* [x] CI æ ¡éªŒï¼šå„è¯­è¨€ key ä¸€è‡´ï¼ˆç¼ºå¤±/å¤šä½™ key æŠ¥é”™ï¼‰

Done: åˆ›å»ºäº† `packages/locales` å­åŒ…ï¼ŒåŒ…å« `en-US.json` å’Œ `zh-CN.json` è¯­è¨€èµ„æºæ–‡ä»¶ï¼Œå®šä¹‰äº† `common`ã€`auth`ã€`entry`ã€`tag`ã€`source`ã€`review`ã€`nav`ã€`search`ã€`editor`ã€`error` ç­‰å‘½åç©ºé—´ã€‚æ”¯æŒ i18next v4 JSON æ ¼å¼çš„å¤æ•°è§„åˆ™ï¼ˆ`_one`/`_other`ï¼‰å’Œæ’å€¼ï¼ˆ`{{count}}`ï¼‰ã€‚æ·»åŠ äº† `packages/locales/scripts/check-keys.ts` è„šæœ¬ç”¨äº CI æ ¡éªŒ key ä¸€è‡´æ€§ã€‚

#### D2. Web / Native é›†æˆ

* [x] Webï¼šæä¾› `t(key, params)`ï¼ˆæˆ– Provider/hookï¼‰æ›¿æ¢å…³é”® UI æ–‡æ¡ˆ
* [x] iOSï¼šåŒæ ·æä¾› `t(key, params)`ï¼Œè¦†ç›–å¯¼èˆªã€æŒ‰é’®ã€ç©ºæ€ã€é”™è¯¯æç¤º
* [x] æ”¯æŒè¯­è¨€åˆ‡æ¢ä¸ fallbackï¼ˆé»˜è®¤ en-USï¼Œæˆ–æŒ‰äº§å“ç­–ç•¥ï¼‰

Done: Web ç«¯é›†æˆ react-i18nextï¼Œåœ¨ `__root.tsx` å¼•å…¥ I18nextProviderï¼Œæ‰€æœ‰é¡µé¢å’Œç»„ä»¶å·²ä½¿ç”¨ `useTranslation` hookï¼›Native ç«¯é›†æˆ i18next + expo-localizationï¼Œè‡ªåŠ¨æ£€æµ‹è®¾å¤‡è¯­è¨€ï¼Œé¦–é¡µã€ç™»å½•ã€æ³¨å†Œã€å¯¼èˆªç­‰ UI å·²å›½é™…åŒ–ã€‚

#### D3. Server æ¥å£ msg å›½é™…åŒ–ï¼ˆåŒè½¨ï¼‰

* [x] Server æ ¹æ® `X-Locale` / `Accept-Language` / ç”¨æˆ·è®¾ç½®è§£æ locale
* [x] é”™è¯¯è¿”å›ç»“æ„åŒ…å«ï¼š
  * [x] `code`ï¼ˆç¨³å®šï¼‰
  * [x] `message`ï¼ˆæœåŠ¡ç«¯æŒ‰ locale æ¸²æŸ“ï¼‰
  * [x] `params`ï¼ˆå¯é€‰ï¼‰
* [x] è®¾ç½® `Vary: Accept-Language, X-Locale`ï¼ˆè‹¥ä½¿ç”¨ç¼“å­˜ï¼‰

Done: æ‰©å±• `packages/api/src/context.ts` è§£æ `X-Locale` å’Œ `Accept-Language` å¤´ï¼Œæ·»åŠ  `locale` åˆ° contextï¼›åˆ›å»º `getLocalizedErrorMessage` å’Œ `createLocalizedError` å·¥å…·å‡½æ•°ï¼Œæ”¯æŒ params æ’å€¼ï¼›Server å“åº”å¤´å·²æ·»åŠ  `Vary: Accept-Language, X-Locale`ã€‚

éªŒæ”¶æ ‡å‡†ï¼š

* Web / iOS / Server åœ¨ç›¸åŒ locale ä¸‹å¯¹å…³é”®é”™è¯¯ä¸ç©ºæ€å±•ç¤ºä¸€è‡´è¯­ä¹‰
* è¯­è¨€åˆ‡æ¢åæ— éœ€æ”¹ä¸šåŠ¡é€»è¾‘å³å¯æ”¹å˜ UI æ–‡æ¡ˆ
* Server é”™è¯¯å“åº”å§‹ç»ˆåŒ…å«ç¨³å®š `code`ï¼Œå¹¶æä¾›å¯¹åº”è¯­è¨€ `message`

---

## æ•°æ®æ¨¡å‹ï¼ˆv2ï¼‰

### å·²æœ‰ï¼ˆv1ï¼‰

* [x] usersï¼ˆBetter Authï¼‰
* [x] entries
* [x] tags
* [x] entry_tags
* [x] sources
* [x] entry_sources
* [x] review_events

### æ–°å¢/è°ƒæ•´ï¼ˆv2ï¼‰

* [x] entry_review_stateï¼ˆæ¨èæ–°å¢è¡¨ï¼‰
* [x] entries å†…å®¹å­—æ®µè°ƒæ•´ï¼ˆå»ºè®®ï¼‰
  * [x] `content_json`ï¼ˆä¸»å­˜ï¼‰
  * [x] `content_text`ï¼ˆæ´¾ç”Ÿï¼‰

Done: æ–°å»º `entry_review_state` è¡¨ï¼ˆentryId ä¸»é”® + userId,dueAt ç´¢å¼•ï¼‰ï¼Œæ‰©å±• `review_events` è¡¨æ·»åŠ  `rating` å’Œ `scheduledDueAt` å­—æ®µã€‚ä½¿ç”¨æ‡’åˆ›å»ºç­–ç•¥ï¼Œé¦–æ¬¡å¤ä¹ æ—¶åˆ›å»º stateã€‚æ•°æ®åº“ Schema æ–°å¢ `contentJson`ï¼ˆProseMirror JSONï¼‰å’Œ `contentText`ï¼ˆçº¯æ–‡æœ¬ï¼‰å­—æ®µã€‚

---

## API å˜æ›´ï¼ˆv2ï¼‰

* [x] entries
  * [x] æ”¯æŒè¯»å–/ä¿å­˜ `content_json` ä¸ `content_text`
* [x] review
  * [x] `markReviewed(entryId, rating?)`
  * [x] `getQueue` é»˜è®¤è¿”å› due æ¡ç›®ï¼ˆæ”¯æŒ limitã€è¡¥é½ç­–ç•¥å‚æ•°å¯é€‰ï¼‰
  * [x] `snooze(entryId, untilAt | preset)`

Done: å®ç°å¼±åŒ–ç‰ˆ SM-2 ç®—æ³•æ¨¡å— `spaced-repetition.ts`ï¼Œå‡çº§ `markReviewed` API æ”¯æŒäº‹åŠ¡åŒ– upsertï¼Œå‡çº§ `getQueue` API æ”¯æŒ due è§„åˆ™å’Œé…é¢ç­–ç•¥ã€‚æ–°å¢ `snooze` API æ”¯æŒå»¶ååˆ°æ˜å¤©/3 å¤©/7 å¤©æˆ–è‡ªå®šä¹‰æ—¥æœŸã€‚

---

## å¹³å°æ”¯æŒï¼ˆv2ï¼‰

### Web åº”ç”¨

* [x] ç°æœ‰é¡µé¢ä¸åŠŸèƒ½ï¼ˆv1 å®Œæ•´ï¼‰
* [x] ç¼–è¾‘å™¨å‡çº§ï¼ˆSlash Menuã€ç²˜è´´ã€è‡ªåŠ¨ä¿å­˜ã€å­˜å‚¨ç»Ÿä¸€ï¼‰
* [x] å¤ä¹ å‡çº§ï¼ˆè¯„åˆ†ã€due é˜Ÿåˆ—ã€snoozeã€ç»Ÿè®¡æ‰©å±•ï¼‰

Done: å®ç°å®Œæ•´çš„ Tiptap Slash Command æ‰©å±•ï¼Œæ”¯æŒåŸºç¡€å‘½ä»¤å’Œ FolioNote ç›¸å…³å‘½ä»¤ã€‚å®ç° URL è‡ªåŠ¨é“¾æ¥å’Œå¯Œæ–‡æœ¬ç²˜è´´ç­–ç•¥ã€‚æ·»åŠ è‡ªåŠ¨ä¿å­˜ hook å’Œä¿å­˜çŠ¶æ€æŒ‡ç¤ºå™¨ã€‚å‡çº§å†…å®¹å­˜å‚¨ä¸º ProseMirror JSON + çº¯æ–‡æœ¬æ´¾ç”Ÿå­—æ®µã€‚å‡çº§ ReviewCard æ”¯æŒå››ä¸ªè¯„åˆ†æŒ‰é’®ï¼Œæ·»åŠ  Snooze ä¸‹æ‹‰èœå•ã€‚æ‰©å±•ç»Ÿè®¡æ˜¾ç¤ºåŒ…å«è¿ç»­å¤ä¹ å¤©æ•°ã€‚

### ç§»åŠ¨åº”ç”¨ï¼ˆExpoï¼Œä»… iOSï¼‰

* [x] è®¤è¯æµç¨‹
* [x] å¿«é€Ÿæ•è·
* [x] æ”¶ä»¶ç®±åˆ—è¡¨
* [x] ä»Šæ—¥è§†å›¾
* [x] å¤ä¹ æµç¨‹
* [x] å¯Œæ–‡æœ¬ï¼šWebView åªè¯»æ¸²æŸ“ï¼ˆä¼˜å…ˆï¼‰ä¸ç¼–è¾‘ï¼ˆæ¬¡ä¼˜å…ˆï¼‰

Done: å®ç°äº† iOS ç«¯å®Œæ•´åŠŸèƒ½é—­ç¯ï¼ˆC1 + C2 éƒ¨åˆ†ï¼‰ï¼ŒåŒ…æ‹¬è®¤è¯ã€å¿«é€Ÿæ•è·ã€æ”¶ä»¶ç®±ã€ä»Šæ—¥è§†å›¾ã€å¤ä¹ æµç¨‹ï¼Œä»¥åŠå¯Œæ–‡æœ¬åªè¯»æ¸²æŸ“å’Œç¼–è¾‘åŠŸèƒ½ã€‚

---

## MVP v2 èŒƒå›´å¤–ï¼ˆOut of Scopeï¼‰

### åŠŸèƒ½

* âŒ é™„ä»¶/å›¾ç‰‡ä¸Šä¼ 
* âŒ é«˜çº§æœç´¢ï¼ˆå…¨æ–‡æœç´¢ã€Postgres FTSï¼‰
* âŒ æ´å¯Ÿ/ç»Ÿè®¡å¤§ç›˜ï¼ˆé™¤å¤ä¹ é¡µå¿…è¦ç»Ÿè®¡å¤–ï¼‰
* âŒ æ¯æ—¥æ—¥å¿— (Daily Logs)
* âŒ æ‰¹é‡æ“ä½œ
* âŒ æ•°æ®å¯¼å…¥/å¯¼å‡ºï¼ˆå¯ä¿ç•™ä¸ºåç»­ï¼‰
* âŒ åä½œåŠŸèƒ½
* âŒ å…¬å…± API

### ç§»åŠ¨ç«¯

* âŒ Android æ”¯æŒ
* âŒ æ¨é€é€šçŸ¥
* âŒ åŸç”Ÿå¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆSwift åŸç”Ÿå®ç°ï¼‰

### æŠ€æœ¯ä¸è¿è¥

* âŒ ç¬¬ä¸‰æ–¹ç™»å½•ï¼ˆOAuthï¼‰:
  * web - Google, Github
  * mobile (ios) - Google, Apple
* âŒ è‡ªå®šä¹‰ä¸»é¢˜ç³»ç»Ÿï¼ˆå…ˆè·Ÿéšç³»ç»Ÿï¼‰
* âŒ ä»˜è´¹/è®¢é˜…ã€ç”¨æˆ·åˆ†æã€A/B æµ‹è¯•

---

## æˆåŠŸæ ‡å‡†ï¼ˆMVP v2 å®Œæˆæ ‡å¿—ï¼‰

1. Web ç«¯ç¼–è¾‘å™¨æ”¯æŒ `/` å‘½ä»¤èœå•ï¼Œæ˜¾è‘—æå‡å†™ä½œæ•ˆç‡ï¼Œå¹¶ä¸”å†…å®¹å­˜å‚¨æ–¹æ¡ˆç¨³å®šç»Ÿä¸€
2. å¤ä¹ ç³»ç»Ÿæ”¯æŒåˆ°æœŸé˜Ÿåˆ—ä¸è¯„åˆ†ï¼Œç”¨æˆ·å¯ä»¥ç”¨"æ¯å¤©å›ºå®šé‡"ç¨³å®šå¤ä¹ è€Œä¸çˆ†ç‚¸
3. iOS ç«¯å®ç°"æ•è· â†’ï¼ˆåªè¯»/å¯é€‰ç¼–è¾‘ï¼‰â†’ å¤ä¹ "çš„æœ€å°é—­ç¯ï¼Œä¸”ä¸ Web æ•°æ®ä¸€è‡´åŒæ­¥
4. å…³é”®æµç¨‹å…·å¤‡åŸºç¡€å›å½’ç”¨ä¾‹æ¸…å•ï¼ˆç¼–è¾‘å™¨è¾“å…¥ã€ç²˜è´´ã€ä¿å­˜ã€å¤ä¹ é˜Ÿåˆ—ç”Ÿæˆï¼‰

---

## é‡Œç¨‹ç¢‘å»ºè®®ï¼ˆå¯å¹¶è¡Œï¼‰

### Milestone Aï¼šç¼–è¾‘å™¨å‡çº§ï¼ˆWebï¼‰âœ… å·²å®Œæˆ

* Slash Menu + 1 ä¸ª FolioNote å‘½ä»¤ï¼ˆtag/source/refï¼‰
* å†…å®¹ä¸»å­˜ JSON + æ´¾ç”Ÿ text
* ç²˜è´´å¤„ç† + è‡ªåŠ¨ä¿å­˜

### Milestone Bï¼šReview v2 âœ… å·²å®Œæˆ

* entry_review_state + rating
* due é˜Ÿåˆ— + snooze
* Web å¤ä¹ é¡µå‡çº§

### Milestone Cï¼šiOSï¼ˆExpoï¼‰âœ… å·²å®Œæˆ

* è®¤è¯ + Inbox + ä»Šæ—¥ + å¤ä¹ 
* WebView åªè¯»æ¸²æŸ“ï¼ˆä¼˜å…ˆï¼‰ï¼Œå¯ç¼–è¾‘ï¼ˆæ¬¡ä¼˜å…ˆï¼‰

### Milestone Dï¼šå›½é™…åŒ–ï¼ˆi18nï¼‰âœ… å·²å®Œæˆ

* å…±äº« locales å­åŒ…
* Web / Native é›†æˆ
* Server æ¥å£ msg å›½é™…åŒ–

---

## åç»­è¿­ä»£è§„åˆ’ï¼ˆPost MVP v2ï¼‰

### ğŸ”œ Iteration 1ï¼šiOS ç¦»çº¿æ¨¡å¼ + Skip Loginï¼ˆä¼˜å…ˆçº§ï¼šé«˜ï¼‰

ç›®æ ‡ï¼šæ”¯æŒç”¨æˆ·åœ¨æœªç™»å½•çŠ¶æ€ä¸‹ä½¿ç”¨ Appï¼Œä½¿ç”¨æœ¬åœ° SQLite å­˜å‚¨æ•°æ®ï¼Œåç»­å¯é€‰æ‹©ç™»å½•å¹¶åŒæ­¥åˆ°äº‘ç«¯ã€‚

#### E1. Skip Login æµç¨‹

* [ ] å¯åŠ¨é¡µ/ç™»å½•é¡µå¢åŠ ã€Œè·³è¿‡ç™»å½•ã€æˆ–ã€Œæœ¬åœ°æ¨¡å¼ã€å…¥å£
* [ ] è·³è¿‡åè¿›å…¥å®Œæ•´ App åŠŸèƒ½ï¼ˆInboxã€å¤ä¹ ã€æ¡ç›®ç¼–è¾‘ç­‰ï¼‰
* [ ] æœ¬åœ°å­˜å‚¨ç”¨æˆ·åå¥½ï¼ˆæ˜¯å¦è·³è¿‡ç™»å½•ã€æœ¬åœ° userId æ ‡è¯†ï¼‰

#### E2. SQLite æœ¬åœ°å­˜å‚¨

* [ ] é›†æˆ `expo-sqlite` æˆ– `@op-engineering/op-sqlite`
* [ ] æœ¬åœ° Schema è®¾è®¡ï¼ˆä¸æœåŠ¡ç«¯ Schema ä¿æŒä¸€è‡´ç»“æ„ï¼‰
  * [ ] entriesï¼ˆå« contentJsonã€contentTextï¼‰
  * [ ] tags + entry_tags
  * [ ] sources + entry_sources
  * [ ] entry_review_state + review_events
* [ ] æœ¬åœ° CRUD æ“ä½œå°è£…ï¼ˆRepository å±‚ï¼‰
* [ ] æ•°æ®è®¿é—®å±‚æŠ½è±¡ï¼šæ ¹æ®ç™»å½•çŠ¶æ€åˆ‡æ¢ Remote API / Local SQLite

#### E3. æ•°æ®åŒæ­¥ç­–ç•¥ï¼ˆç™»å½•åï¼‰

* [ ] ç”¨æˆ·ç™»å½•åè§¦å‘æœ¬åœ°æ•°æ®ä¸Šä¼ 
* [ ] å†²çªå¤„ç†ç­–ç•¥ï¼ˆæœ€ç®€ï¼šä»¥æœ¬åœ°ä¸ºå‡† / ä»¥æœåŠ¡ç«¯ä¸ºå‡† / æç¤ºç”¨æˆ·é€‰æ‹©ï¼‰
* [ ] åŒæ­¥çŠ¶æ€æŒ‡ç¤ºï¼ˆåŒæ­¥ä¸­ / å·²åŒæ­¥ / å†²çªï¼‰
* [ ] å¢é‡åŒæ­¥ï¼ˆåŸºäº updatedAt æˆ– versionï¼‰

#### E4. ç¦»çº¿ä¼˜å…ˆä½“éªŒ

* [ ] ç½‘ç»œä¸å¯ç”¨æ—¶è‡ªåŠ¨åˆ‡æ¢ä¸ºæœ¬åœ°æ¨¡å¼
* [ ] æ“ä½œé˜Ÿåˆ—ï¼ˆPending Operationsï¼‰ï¼šç¦»çº¿æ—¶è®°å½•æ“ä½œï¼Œè”ç½‘åæ‰¹é‡åŒæ­¥
* [ ] ä¹è§‚æ›´æ–°ï¼šæ“ä½œç«‹å³ç”Ÿæ•ˆï¼Œåå°åŒæ­¥

éªŒæ”¶æ ‡å‡†ï¼š

* ç”¨æˆ·å¯ä»¥åœ¨ä¸ç™»å½•çš„æƒ…å†µä¸‹å®Œæˆå®Œæ•´çš„ã€Œæ•è· â†’ ç»„ç»‡ â†’ å¤ä¹ ã€é—­ç¯
* ç™»å½•åæœ¬åœ°æ•°æ®èƒ½æ­£ç¡®åŒæ­¥åˆ°äº‘ç«¯
* ç½‘ç»œæ–­å¼€/æ¢å¤åæ•°æ®ä¸ä¸¢å¤±

---

### ğŸ”œ Iteration 2ï¼šiOS åˆ†äº«æ‰©å±•ï¼ˆä¼˜å…ˆçº§ï¼šä¸­ï¼‰

* [ ] iOS Share Extension æ¥æ”¶æ–‡æœ¬/URL
* [ ] å†™å…¥æœ¬åœ° SQLiteï¼ˆæˆ–è°ƒç”¨ APIï¼‰
* [ ] å»é‡ç­–ç•¥ï¼ˆURL ç›¸åŒæ—¶æç¤ºæˆ–åˆå¹¶ï¼‰

---

### ğŸ”œ Iteration 3ï¼šç¬¬ä¸‰æ–¹ç™»å½•ï¼ˆä¼˜å…ˆçº§ï¼šä¸­ï¼‰

* [ ] Web ç«¯ï¼šGoogleã€Github OAuth
* [ ] iOS ç«¯ï¼šGoogleã€Apple Sign In
* [ ] è´¦å·å…³è”ï¼ˆå·²æœ‰é‚®ç®±è´¦å·å…³è” OAuthï¼‰

---

### ğŸ”® Iteration 4ï¼šé«˜çº§æœç´¢ï¼ˆä¼˜å…ˆçº§ï¼šä½ï¼‰

* [ ] Postgres å…¨æ–‡æœç´¢ï¼ˆFTSï¼‰
* [ ] æœç´¢è¿‡æ»¤å™¨ï¼ˆæŒ‰æ ‡ç­¾ã€æ¥æºã€æ—¶é—´èŒƒå›´ï¼‰
* [ ] æœç´¢å†å²ä¸å»ºè®®

---

### ğŸ”® Iteration 5ï¼šæ•°æ®å¯¼å…¥/å¯¼å‡ºï¼ˆä¼˜å…ˆçº§ï¼šä½ï¼‰

* [ ] å¯¼å‡ºä¸º Markdown / JSON
* [ ] ä»å…¶ä»–å·¥å…·å¯¼å…¥ï¼ˆNotionã€Roamã€Obsidianï¼‰
* [ ] å®šæœŸå¤‡ä»½ï¼ˆå¯é€‰ï¼‰

---

### ğŸ”® Iteration 6ï¼šAndroid æ”¯æŒï¼ˆä¼˜å…ˆçº§ï¼šä½ï¼‰

* [ ] Expo Android æ„å»ºé…ç½®
* [ ] UI é€‚é…ï¼ˆMaterial Design é£æ ¼å¯é€‰ï¼‰
* [ ] æµ‹è¯•è¦†ç›–

---

### ğŸ”® Iteration 7ï¼šé™„ä»¶/å›¾ç‰‡ä¸Šä¼ ï¼ˆä¼˜å…ˆçº§ï¼šä½ï¼‰

* [ ] å›¾ç‰‡ä¸Šä¼ åˆ° S3/R2
* [ ] ç¼–è¾‘å™¨å†…åµŒå›¾ç‰‡èŠ‚ç‚¹
* [ ] å›¾ç‰‡å‹ç¼©ä¸æ‡’åŠ è½½

---

## æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯ |
|---|---|
| Web å‰ç«¯ | TanStack Start, React, TailwindCSS |
| ç§»åŠ¨ç«¯ | Expo, React Nativeï¼ˆä»… iOS ä¸”ä¼˜å…ˆæ”¯æŒ iOS 26ï¼‰ |
| å¯Œæ–‡æœ¬ | Tiptap (ProseMirror)ï¼›iOS ç«¯é€šè¿‡ WebView å¤ç”¨ |
| API | Hono, oRPC |
| æ•°æ®åº“ | PostgreSQL, Drizzle ORM |
| æœ¬åœ°å­˜å‚¨ | SQLite (expo-sqlite / op-sqlite) |
| è®¤è¯ | Better Auth |
| éƒ¨ç½² | å¾…å®š |
